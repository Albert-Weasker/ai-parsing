# UI/UX设计说明

## 1. 设计原则

### 1.1 设计理念

- **简洁高效**: 界面简洁，操作流程清晰，减少用户学习成本
- **可视化优先**: 通过可视化方式配置模板，降低技术门槛
- **实时反馈**: 处理进度、操作结果实时反馈给用户
- **容错友好**: 提供清晰的错误提示和恢复建议
- **响应式设计**: 支持不同屏幕尺寸，适配桌面和移动端

### 1.2 设计系统

- **UI框架**: shadcn/ui (基于Radix UI + Tailwind CSS)
- **设计风格**: 现代简约，企业级应用风格
- **色彩方案**: 
  - 主色: 蓝色系（专业、可信）
  - 成功: 绿色
  - 警告: 橙色
  - 错误: 红色
  - 中性: 灰色系

## 2. 页面设计

### 2.1 布局结构

```
┌─────────────────────────────────────────┐
│  Header (顶部导航栏)                     │
│  [Logo] [导航] [用户菜单] [通知]         │
├──────────┬──────────────────────────────┤
│          │                              │
│ Sidebar  │  Main Content Area           │
│ (侧边栏) │  (主内容区)                   │
│          │                              │
│ - 仪表盘 │                              │
│ - 模板   │                              │
│ - 上传   │                              │
│ - 文档   │                              │
│ - 结果   │                              │
│ - 导出   │                              │
│ - 管理   │                              │
│          │                              │
└──────────┴──────────────────────────────┘
```

### 2.2 侧边栏导航

**导航项**:
- 🏠 仪表盘
- 📋 模板管理
- 📤 文档上传
- 📄 文档管理
- ✅ 解析结果
- 📊 数据导出
- ⚙️ 系统管理（仅管理员）

**状态指示**:
- 当前页面高亮
- 未读通知显示红点
- 处理中任务显示进度

### 2.3 顶部导航栏

**左侧**:
- Logo
- 面包屑导航

**右侧**:
- 搜索框（全局搜索）
- 通知中心（处理完成、错误提示等）
- 用户菜单（个人信息、设置、退出）

## 3. 核心页面设计

### 3.1 仪表盘首页

**布局**:
```
┌─────────────────────────────────────────┐
│  欢迎回来，[用户名]                      │
├─────────────────────────────────────────┤
│  ┌──────────┐  ┌──────────┐  ┌────────┐│
│  │ 今日处理 │  │ 待审核   │  │ 成功率 ││
│  │   150    │  │   25     │  │  95%   ││
│  └──────────┘  └──────────┘  └────────┘│
├─────────────────────────────────────────┤
│  最近活动                                │
│  - [时间] 文档 train_ticket.pdf 处理完成 │
│  - [时间] 模板"火车票模板"已更新         │
│  - [时间] 批量任务"批量处理"已完成        │
├─────────────────────────────────────────┤
│  快速操作                                │
│  [上传文档] [创建模板] [查看结果]        │
└─────────────────────────────────────────┘
```

**功能**:
- 统计卡片（今日处理数、待审核数、成功率等）
- 最近活动时间线
- 快速操作按钮
- 处理趋势图表（可选）

### 3.2 模板列表页

**布局**:
```
┌─────────────────────────────────────────┐
│  模板管理              [+ 创建模板]       │
├─────────────────────────────────────────┤
│  [搜索] [筛选: 状态▼] [筛选: 类别▼]      │
├─────────────────────────────────────────┤
│  ┌────────────────────────────────────┐ │
│  │ 📋 火车票模板              [操作▼] │ │
│  │ 用于识别火车票信息                  │ │
│  │ 状态: 已启用 | 字段数: 5 | 版本: 1 │ │
│  │ 创建时间: 2024-01-15               │ │
│  └────────────────────────────────────┘ │
│  ┌────────────────────────────────────┐ │
│  │ 📋 发票模板                [操作▼] │ │
│  │ 用于识别发票信息                    │ │
│  │ 状态: 草稿 | 字段数: 8 | 版本: 1   │ │
│  │ 创建时间: 2024-01-14               │ │
│  └────────────────────────────────────┘ │
├─────────────────────────────────────────┤
│  [< 上一页]  1 2 3 ... 10  [下一页 >]    │
└─────────────────────────────────────────┘
```

**功能**:
- 模板卡片列表
- 搜索和筛选
- 批量操作（删除、归档等）
- 分页

### 3.3 模板创建/编辑页

**布局**:
```
┌─────────────────────────────────────────┐
│  < 返回  创建模板                        │
├─────────────────────────────────────────┤
│  ┌──────────────────┐  ┌──────────────┐ │
│  │ 基本信息         │  │ 字段配置     │ │
│  │                  │  │              │ │
│  │ 模板名称: [___]  │  │ [+ 添加字段] │ │
│  │ 描述: [______]   │  │              │ │
│  │ 类别: [选择▼]    │  │ ┌──────────┐ │ │
│  │                  │  │ │ 乘车人   │ │ │
│  │                  │  │ │ [编辑]   │ │ │
│  │                  │  │ └──────────┘ │ │
│  │                  │  │ ┌──────────┐ │ │
│  │                  │  │ │ 车次     │ │ │
│  │                  │  │ │ [编辑]   │ │ │
│  │                  │  │ └──────────┘ │ │
│  └──────────────────┘  └──────────────┘ │
├─────────────────────────────────────────┤
│  [取消]  [保存草稿]  [保存并启用]        │
└─────────────────────────────────────────┘
```

**字段配置弹窗**:
```
┌─────────────────────────────────────┐
│  配置字段: 乘车人            [×]     │
├─────────────────────────────────────┤
│  字段名称: [乘车人]                 │
│  字段类型: [文本 ▼]                 │
│  是否必填: [✓]                      │
│                                     │
│  提取方式:                          │
│  ○ OCR识别                          │
│  ○ AI理解                           │
│  ● 混合模式（推荐）                 │
│                                     │
│  AI提示词:                          │
│  [提取乘车人姓名________________]   │
│                                     │
│  位置标注: [在文档上标注]            │
│                                     │
│  验证规则:                          │
│  [自定义规则 ▼]                     │
│                                     │
│  [取消]  [保存]                     │
└─────────────────────────────────────┘
```

**功能**:
- 基本信息配置
- 字段列表管理（拖拽排序）
- 字段详细配置
- 文档标注工具（可视化标注字段位置）
- 模板测试功能

### 3.4 文档上传页

**布局**:
```
┌─────────────────────────────────────────┐
│  文档上传                                │
├─────────────────────────────────────────┤
│  ┌────────────────────────────────────┐ │
│  │                                     │ │
│  │      📄 拖拽文件到此处              │ │
│  │     或点击选择文件                  │ │
│  │                                     │ │
│  │  支持: PDF, 图片, Word, Excel      │ │
│  │  最大: 100MB                        │ │
│  │                                     │ │
│  └────────────────────────────────────┘ │
├─────────────────────────────────────────┤
│  选择模板: [火车票模板 ▼]               │
│  [自动匹配]                             │
├─────────────────────────────────────────┤
│  上传队列:                              │
│  ┌────────────────────────────────────┐ │
│  │ train_ticket_001.pdf  [50%] [取消] │ │
│  │ train_ticket_002.pdf  [100%] ✓    │ │
│  └────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

**功能**:
- 拖拽上传
- 文件选择
- 上传进度显示
- 模板选择/自动匹配
- 批量上传支持

### 3.5 文档列表页

**布局**:
```
┌─────────────────────────────────────────┐
│  文档管理                                │
├─────────────────────────────────────────┤
│  [搜索] [筛选: 状态▼] [筛选: 模板▼]      │
├─────────────────────────────────────────┤
│  ┌────────────────────────────────────┐ │
│  │ 📄 train_ticket_001.pdf    [操作▼] │ │
│  │ 模板: 火车票模板 | 状态: 处理中    │ │
│  │ 进度: [████████░░] 80%             │ │
│  │ 上传时间: 2024-01-15 10:00          │ │
│  └────────────────────────────────────┘ │
│  ┌────────────────────────────────────┐ │
│  │ 📄 train_ticket_002.pdf    [操作▼] │ │
│  │ 模板: 火车票模板 | 状态: 已完成    │ │
│  │ 置信度: 92% | 审核: 待审核         │ │
│  │ 上传时间: 2024-01-15 09:00          │ │
│  └────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

**功能**:
- 文档卡片列表
- 状态标识（待处理、处理中、已完成、失败）
- 进度条显示
- 筛选和搜索
- 批量操作

### 3.6 解析结果列表页

**布局**:
```
┌─────────────────────────────────────────┐
│  解析结果              [批量审核] [导出] │
├─────────────────────────────────────────┤
│  [搜索] [筛选: 状态▼] [筛选: 模板▼]      │
│  [筛选: 置信度▼] [日期范围]              │
├─────────────────────────────────────────┤
│  ┌────────────────────────────────────┐ │
│  │ train_ticket_001.pdf      [操作▼] │ │
│  │ 模板: 火车票模板                   │ │
│  │ ┌──────┬──────┬──────┬──────┐     │ │
│  │ │乘车人│ 车次 │出发地│到达地│     │ │
│  │ │ 张三 │ G123 │ 北京 │ 上海 │     │ │
│  │ └──────┴──────┴──────┴──────┘     │ │
│  │ 置信度: 92% | 状态: 待审核         │ │
│  │ 处理时间: 2024-01-15 10:05         │ │
│  └────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

**功能**:
- 表格/卡片视图切换
- 关键字段预览
- 置信度显示（颜色编码）
- 审核状态标识
- 批量选择和操作

### 3.7 结果详情/校对页

**布局**:
```
┌─────────────────────────────────────────┐
│  < 返回  解析结果详情                    │
├──────────┬──────────────────────────────┤
│          │  提取结果                    │
│  文档预览│  ┌────────────────────────┐  │
│          │  │ 乘车人: 张三    [编辑] │  │
│  [图片]  │  │ 置信度: 95%            │  │
│          │  └────────────────────────┘  │
│          │  ┌────────────────────────┐  │
│          │  │ 车次: G123      [编辑] │  │
│          │  │ 置信度: 98%            │  │
│          │  └────────────────────────┘  │
│          │  ┌────────────────────────┐  │
│          │  │ 出发地: 北京    [编辑] │  │
│          │  │ 置信度: 92%            │  │
│          │  └────────────────────────┘  │
│          │                              │
│          │  审核:                       │
│          │  ○ 通过  ○ 拒绝  ○ 需复核   │
│          │  备注: [________________]    │
│          │                              │
│          │  [保存]  [提交审核]          │
└──────────┴──────────────────────────────┘
```

**功能**:
- 文档预览（支持缩放、旋转）
- 字段高亮（在原文档上标注提取位置）
- 字段编辑
- 置信度显示
- 审核操作
- 历史记录（可选）

### 3.8 导出页面

**布局**:
```
┌─────────────────────────────────────────┐
│  数据导出                                │
├─────────────────────────────────────────┤
│  ┌────────────────────────────────────┐ │
│  │  导出配置                          │ │
│  │                                     │ │
│  │  导出格式: ○ Excel  ○ CSV  ○ JSON │ │
│  │                                     │ │
│  │  筛选条件:                          │ │
│  │  - 模板: [选择模板 ▼]              │ │
│  │  - 状态: [选择状态 ▼]              │ │
│  │  - 日期: [开始日期] - [结束日期]    │ │
│  │  - 置信度: [最小值: 0.8]            │ │
│  │                                     │ │
│  │  选择字段:                          │ │
│  │  [✓] 乘车人  [✓] 车次              │ │
│  │  [✓] 出发地  [✓] 到达地            │ │
│  │  [✓] 乘车时间                       │ │
│  │                                     │ │
│  │  预计记录数: 1,000                 │ │
│  │                                     │ │
│  │  [取消]  [开始导出]                 │ │
│  └────────────────────────────────────┘ │
├─────────────────────────────────────────┤
│  导出任务历史:                            │
│  - export_20240115.xlsx [下载] [删除]   │
│  - export_20240114.csv  [下载] [删除]   │
└─────────────────────────────────────────┘
```

**功能**:
- 导出格式选择
- 筛选条件配置
- 字段选择
- 导出任务管理
- 下载历史文件

## 4. 交互设计

### 4.1 加载状态

- **页面加载**: 骨架屏（Skeleton Screen）
- **数据加载**: 加载动画 + 提示文字
- **操作反馈**: 按钮加载状态（禁用 + 加载图标）

### 4.2 错误处理

- **表单验证**: 实时验证，错误提示显示在字段下方
- **API错误**: Toast通知 + 错误详情（可展开）
- **网络错误**: 重试按钮 + 离线提示

### 4.3 成功反馈

- **操作成功**: Toast通知（绿色，自动消失）
- **批量操作**: 显示成功/失败数量
- **长时间操作**: 进度条 + 百分比

### 4.4 确认对话框

重要操作（删除、取消任务等）需要确认：

```
┌─────────────────────────────┐
│  确认删除？          [×]     │
├─────────────────────────────┤
│  确定要删除模板"火车票模板"吗？│
│  此操作不可恢复。            │
│                             │
│  [取消]  [确认删除]          │
└─────────────────────────────┘
```

### 4.5 实时更新

- **WebSocket连接**: 页面右上角显示连接状态
- **处理进度**: 实时更新进度条和百分比
- **通知中心**: 新消息显示红点，点击查看详情

## 5. 响应式设计

### 5.1 断点设置

- **移动端**: < 768px
- **平板**: 768px - 1024px
- **桌面**: > 1024px

### 5.2 移动端适配

- **侧边栏**: 折叠为抽屉菜单
- **表格**: 横向滚动或卡片视图
- **表单**: 垂直布局，全宽输入框
- **操作按钮**: 底部固定操作栏

## 6. 可访问性

### 6.1 键盘导航

- Tab键顺序合理
- 支持键盘快捷键
- 焦点状态清晰可见

### 6.2 屏幕阅读器

- 语义化HTML
- ARIA标签
- 图片alt文本

### 6.3 颜色对比

- 文字与背景对比度 ≥ 4.5:1
- 重要信息不依赖颜色传达

## 7. 性能优化

### 7.1 加载优化

- 代码分割（Code Splitting）
- 图片懒加载
- 虚拟滚动（大列表）

### 7.2 交互优化

- 防抖/节流（搜索、滚动）
- 乐观更新（UI先更新，后台同步）
- 骨架屏（减少感知延迟）

## 8. 设计资源

### 8.1 图标库

- Lucide Icons（推荐，与shadcn/ui兼容）
- Heroicons（备选）

### 8.2 字体

- 中文: 思源黑体 / 苹方
- 英文: Inter / System Font Stack

### 8.3 颜色方案

```css
/* 主色 */
--primary: #3b82f6;
--primary-hover: #2563eb;

/* 成功 */
--success: #10b981;
--success-bg: #d1fae5;

/* 警告 */
--warning: #f59e0b;
--warning-bg: #fef3c7;

/* 错误 */
--error: #ef4444;
--error-bg: #fee2e2;

/* 中性色 */
--gray-50: #f9fafb;
--gray-100: #f3f4f6;
--gray-900: #111827;
```

## 9. 设计规范检查清单

- [ ] 所有页面遵循统一的设计系统
- [ ] 交互反馈及时清晰
- [ ] 错误提示友好易懂
- [ ] 加载状态有明确提示
- [ ] 移动端体验良好
- [ ] 可访问性符合标准
- [ ] 性能指标达标
- [ ] 浏览器兼容性测试通过


